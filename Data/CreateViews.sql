/*==============================================================*/
/* 		Employees can see the shift times               */
/*			of other employees	                */
/*==============================================================*/

CREATE VIEW SHIFTS AS
SELECT NAME,POSNAME,SHIFTDURATION
FROM EMPLOYEE JOIN POSITION
ON EMPLOYEE.POSID = POSITION.POSID
GO
/*==============================================================*/
/* 	Views to get all data possible about an accout          */
/*			of any type			        */
/*==============================================================*/

CREATE VIEW DEBITVIEW AS
SELECT ACCOUNT.PID10,ACCOUNT.CURRENCY,ACCOUNT.DATECREATED,ACCOUNT.LEVEL,ACCOUNTLEVEL.MAXWITHDRAW,ACCOUNTLEVEL.MINBALANCE,ACCOUNTLEVEL.INTERESTDEBIT,DEBITACCOUNT.BALANCE,DEBITACCOUNT.TOTALDEPOSIT,DEBITACCOUNT.TOTALWITHDRAW
FROM (DEBITACCOUNT JOIN ACCOUNT
ON DEBITACCOUNT.PID10 = ACCOUNT.PID10) JOIN ACCOUNTLEVEL
ON ACCOUNTLEVEL.LEVEL = ACCOUNT.LEVEL
GO

CREATE VIEW CREDITVIEW AS
SELECT ACCOUNT.PID10,ACCOUNT.CURRENCY,ACCOUNT.DATECREATED,ACCOUNT.LEVEL,ACCOUNTLEVEL.MAXWITHDRAW,ACCOUNTLEVEL.MINBALANCE,ACCOUNTLEVEL.MAXDUE,ACCOUNTLEVEL.TAXCREDIT,CREDITACCOUNT.AMMOUNTDUE,CREDITACCOUNT.NEXTDUEDATE,CREDITACCOUNT.CYCLEDAYS,CREDITACCOUNT.ISOVERDUE
FROM (CREDITACCOUNT JOIN ACCOUNT
ON CREDITACCOUNT.PID10 = ACCOUNT.PID10) JOIN ACCOUNTLEVEL
ON ACCOUNTLEVEL.LEVEL = ACCOUNT.LEVEL
GO

CREATE VIEW RETIREMENTVIEW AS
SELECT ACCOUNT.PID10,ACCOUNT.CURRENCY,ACCOUNT.DATECREATED,ACCOUNT.LEVEL,ACCOUNTLEVEL.MINBALANCE,ACCOUNTLEVEL.INTERESTDEBIT,ACCOUNTLEVEL.INTERESTGAIN,RETIREMENTACCOUNT.BALANCE,RETIREMENTACCOUNT.DUEDATE
FROM (RETIREMENTACCOUNT JOIN ACCOUNT
ON RETIREMENTACCOUNT.PID10 = ACCOUNT.PID10) JOIN ACCOUNTLEVEL
ON ACCOUNTLEVEL.LEVEL = ACCOUNT.LEVEL
GO

CREATE VIEW YOUTHVIEW AS
SELECT ACCOUNT.PID10,ACCOUNT.CURRENCY,ACCOUNT.DATECREATED,ACCOUNT.LEVEL,ACCOUNTLEVEL.MINBALANCE,ACCOUNTLEVEL.INTERESTDEBIT,ACCOUNTLEVEL.INTERESTGAIN,YOUTHACCOUNT.SWITCHDATE, DEBITACCOUNT.BALANCE, DEBITACCOUNT.TOTALDEPOSIT, DEBITACCOUNT.TOTALWITHDRAW
FROM ((YOUTHACCOUNT JOIN ACCOUNT
ON YOUTHACCOUNT.PID10 = ACCOUNT.PID10) JOIN ACCOUNTLEVEL
ON ACCOUNTLEVEL.LEVEL = ACCOUNT.LEVEL) JOIN DEBITACCOUNT
ON YOUTHACCOUNT.PID10 = DEBITACCOUNT.PID10
GO

CREATE VIEW SAVINGSVIEW AS
SELECT ACCOUNT.PID10,ACCOUNT.CURRENCY,ACCOUNT.DATECREATED,ACCOUNT.LEVEL,ACCOUNTLEVEL.MINBALANCE,ACCOUNTLEVEL.INTERESTDEBIT,ACCOUNTLEVEL.INTERESTGAIN,SAVINGSACCOUNT.BALANCE,SAVINGSACCOUNT.CYCLEDAYS,SAVINGSACCOUNT.NEXTREFRESH,SAVINGSACCOUNT.WITHDRAWALS,SAVINGSACCOUNT.WITHDRAWLIMIT
FROM (SAVINGSACCOUNT JOIN ACCOUNT
ON SAVINGSACCOUNT.PID10 = ACCOUNT.PID10) JOIN ACCOUNTLEVEL
ON ACCOUNTLEVEL.LEVEL = ACCOUNT.LEVEL
GO
